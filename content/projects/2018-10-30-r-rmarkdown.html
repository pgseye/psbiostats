---
title: "Predictors of SuperHuman Vision"
author: "Paul Sanfilippo"
date: 2018-10-30T21:13:14-05:00
description: "Under construction..."
categories: ["R"]
tags: ["regression", "plot"]
featured: true
image: "/img/super.png"
---



<style>
div.code pre { 
                font-family: 'Source Code Pro', 'Courier New', monospace;
                font-size: 12px;
                background-color:#F5F8FA;
                padding-top: 10px;
                padding-bottom: 10px;
                padding-left: 10px;
                border: 1px solid lightgrey;
                border-radius: 5px;
}
</style>
<style>
div.output pre { 
                font-family: 'Source Code Pro', 'Courier New', monospace;
                font-size: 12px;
                padding-top: 10px;
                padding-bottom: 10px;
                padding-left: 10px;
                border: 1px solid lightgrey;
                border-radius: 5px;
}
</style>
<p><br></p>
<p>We wanted to model the relationship between various environmental, lifestyle, maternal, childhood and ophthalmic factors and best-corrected <a href="https://en.wikipedia.org/wiki/Visual_acuity">visual acuity</a> (BCVA) in a young adult cohort. Data were available for 1252 patients.</p>
<p>A secondary aim was to compare the predictive power of a classical modelling method (logistic regression) with a machine learning technique (penalised regression). An excellent overview of the differences can be found in this <a href="https://www.nature.com/articles/nmeth.4642">Nature</a> paper.</p>
<p>SuperHuman vision was defined as BCVA better than or equal to 6/5 vision (-0.1 logMAR) in at least one eye.<br />
<em>Note</em> - ‘Normal’ vision is considered equivalent to 0.00 logMAR (or 6/6 (20/20) on the Snellen scale more commonly utilised in clinical practice).</p>
<div id="descriptives" class="section level3">
<h3>Descriptives</h3>
<p>The basic frequency histogram for Left and Right eye data, constructed with ggplot2.</p>
<div class="code">
<pre class="r"><code>hist_va &lt;-ggplot(data, aes(x = bcva, fill = bcva &lt; -0.1)) +
  geom_histogram(color = &quot;black&quot;,  binwidth = 0.05, center = 0.025) +
  scale_x_continuous(limits = c(-0.4, 0.4), breaks = seq(-0.4, 0.4, 0.1)) +
  theme(legend.position = &quot;none&quot;) +
  xlab(&quot;Best Corrected Visual Acuity (logMAR)&quot;) +
  ylab(&quot;Frequency &quot;) +
  scale_fill_manual(values = c(&quot;white&quot;, &quot;red&quot;)) +
  facet_grid(. ~ eye)</code></pre>
</div>
<p>Then overlaying the classification thresholds for SuperHuman vision.</p>
<div class="code">
<pre class="r"><code>hist_va + 
  geom_vline(data = data, aes(xintercept = -0.097, color = &quot;red&quot;), linetype = &quot;dashed&quot;) +
  geom_text(aes(-0.25, 420, label = &quot;Superhuman Vision&quot;, color = &quot;red&quot;))</code></pre>
</div>
<p>And we end up with:</p>
<p><img src="/figs/svfig1.png" alt="png" width="800"/></p>
<p><br></p>
<p>About <strong>42%</strong> of patients had SuperHuman vision under this definition.</p>
<p><br><br></p>
</div>
<div id="classical-modelling-logistic-regression" class="section level3">
<h3>Classical Modelling (Logistic Regression)</h3>
<p><br><br></p>
</div>
<div id="machine-learning-penalised-regression" class="section level3">
<h3>Machine Learning (Penalised Regression)</h3>
</div>
